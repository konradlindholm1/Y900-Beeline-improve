(function(d,a,b,e){var c=false;!function(f){if(typeof require==="function"&&typeof exports==="object"&&typeof module==="object"){var g=module.exports||exports;f(g)}else{if(typeof define==="function"&&define.amd){define(["exports"],f)}else{f(d.ko={})}}}(function(h){var o=typeof h!=="undefined"?h:{};o.exportSymbol=function(s,q){var u=s.split(".");var t=o;for(var r=0;r<u.length-1;r++){t=t[u[r]]}t[u[u.length-1]]=q};o.exportProperty=function(r,q,s){r[q]=s};o.version="2.1.0";o.exportSymbol("version",o.version);o.utils=new (function(){var C=/^(\s|\u00A0)+|(\s|\u00A0)+$/g;var A={},u={};var t=/Firefox\/2/i.test(b.userAgent)?"KeyboardEvent":"UIEvents";A[t]=["keyup","keydown","keypress"];A.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];for(var q in A){var v=A[q];if(v.length){for(var y=0,w=v.length;y<w;y++){u[v[y]]=q}}}var D={propertychange:true};var x=(function(){var E=3,G=a.createElement("div"),F=G.getElementsByTagName("i");while(G.innerHTML="<!--[if gt IE "+(++E)+"]><i></i><![endif]-->",F[0]){}return E>4?E:e}());var s=x===6,r=x===7;function z(F,E){if((o.utils.tagNameLower(F)!=="input")||!F.type){return false}if(E.toLowerCase()!="click"){return false}var G=F.type;return(G=="checkbox")||(G=="radio")}function B(G){var F=a.createElement("div");(F.textContent!=null)?(F.textContent=G):(F.innerText=G);var E=F.innerHTML;E=E.replace(new RegExp(" ","gm"),"&nbsp;");F=null;return E}return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(H,G){for(var F=0,E=H.length;F<E;F++){G(H[F])}},arrayIndexOf:function(H,G){if(typeof Array.prototype.indexOf=="function"){return Array.prototype.indexOf.call(H,G)}for(var F=0,E=H.length;F<E;F++){if(H[F]===G){return F}}return -1},arrayFirst:function(I,E,H){for(var G=0,F=I.length;G<F;G++){if(E.call(H,I[G])){return I[G]}}return null},arrayRemoveItem:function(G,F){var E=o.utils.arrayIndexOf(G,F);if(E>=0){G.splice(E,1)}},arrayGetDistinctValues:function(H){H=H||[];var E=[];for(var G=0,F=H.length;G<F;G++){if(o.utils.arrayIndexOf(E,H[G])<0){E.push(H[G])}}return E},arrayMap:function(I,G){I=I||[];var E=[];for(var H=0,F=I.length;H<F;H++){E.push(G(I[H]))}return E},arrayFilter:function(I,F){I=I||[];var E=[];for(var H=0,G=I.length;H<G;H++){if(F(I[H])){E.push(I[H])}}return E},arrayPushAll:function(H,G){if(G instanceof Array){H.push.apply(H,G)}else{for(var F=0,E=G.length;F<E;F++){H.push(G[F])}}return H},extend:function(F,E){if(E){for(var G in E){if(E.hasOwnProperty(G)){F[G]=E[G]}}}return F},emptyDomNode:function(E){while(E.firstChild){o.removeNode(E.firstChild)}},moveCleanedNodesToContainerElement:function(F){var I=o.utils.makeArray(F);var E=a.createElement("div");for(var H=0,G=I.length;H<G;H++){o.cleanNode(I[H]);E.appendChild(I[H])}return E},setDomNodeChildren:function(G,H){o.utils.emptyDomNode(G);if(H){for(var F=0,E=H.length;F<E;F++){G.appendChild(H[F])}}},replaceDomNodes:function(I,K){var J=I.nodeType?[I]:I;if(J.length>0){var G=J[0];var H=G.parentNode;for(var F=0,E=K.length;F<E;F++){H.insertBefore(K[F],G)}for(var F=0,E=J.length;F<E;F++){o.removeNode(J[F])}}},setOptionNodeSelectionState:function(F,E){if(b.userAgent.indexOf("MSIE 6")>=0){F.setAttribute("selected",E)}else{F.selected=E}},stringTrim:function(E){return(E||"").replace(C,"")},stringTokenize:function(H,F){var E=[];var K=(H||"").split(F);for(var I=0,G=K.length;I<G;I++){var J=o.utils.stringTrim(K[I]);if(J!==""){E.push(J)}}return E},stringStartsWith:function(E,F){E=E||"";if(F.length>E.length){return false}return E.substring(0,F.length)===F},buildEvalWithinScopeFunction:function(H,G){var F="return ("+H+")";for(var E=0;E<G;E++){F="with(sc["+E+"]) { "+F+" } "}return new Function("sc",F)},domNodeIsContainedBy:function(F,E){if(E.compareDocumentPosition){return(E.compareDocumentPosition(F)&16)==16}while(F!=null){if(F==E){return true}F=F.parentNode}return false},domNodeIsAttachedToDocument:function(E){return o.utils.domNodeIsContainedBy(E,E.ownerDocument)},tagNameLower:function(E){return E&&E.tagName&&E.tagName.toLowerCase()},registerEventHandler:function(H,G,I){var F=x&&D[G];if(!F&&typeof jQuery!="undefined"){if(z(H,G)){var E=I;I=function(L,K){var J=this.checked;if(K){this.checked=K.checkedStateBeforeEvent!==true}E.call(this,L);this.checked=J}}jQuery(H)["bind"](G,I)}else{if(!F&&typeof H.addEventListener=="function"){H.addEventListener(G,I,false)}else{if(typeof H.attachEvent!="undefined"){H.attachEvent("on"+G,function(J){I.call(H,J)})}else{throw new Error("Browser doesn't support addEventListener or attachEvent")}}}},triggerEvent:function(G,F){if(!(G&&G.nodeType)){throw new Error("element must be a DOM node when calling triggerEvent")}if(typeof jQuery!="undefined"){var I=[];if(z(G,F)){I.push({checkedStateBeforeEvent:G.checked})}jQuery(G)["trigger"](F,I)}else{if(typeof a.createEvent=="function"){if(typeof G.dispatchEvent=="function"){var E=u[F]||"HTMLEvents";var H=a.createEvent(E);H.initEvent(F,true,true,d,0,0,0,0,0,false,false,false,false,0,G);G.dispatchEvent(H)}else{throw new Error("The supplied element doesn't support dispatchEvent")}}else{if(typeof G.fireEvent!="undefined"){if(z(G,F)){G.checked=G.checked!==true}G.fireEvent("on"+F)}else{throw new Error("Browser doesn't support triggering events")}}}},unwrapObservable:function(E){return o.isObservable(E)?E():E},toggleDomNodeCssClass:function(K,J,I){var E=(K.className||"").split(/\s+/);var H=o.utils.arrayIndexOf(E,J)>=0;if(I&&!H){K.className+=(E[0]?" ":"")+J}else{if(H&&!I){var F="";for(var G=0;G<E.length;G++){if(E[G]!=J){F+=E[G]+" "}}K.className=o.utils.stringTrim(F)}}},setTextContent:function(E,F){var G=o.utils.unwrapObservable(F);if((G===null)||(G===e)){G=""}else{G=B(G)}E.innerHTML=G;if(x>=9){E.style.display=E.style.display}},ensureSelectElementIsRenderedCorrectly:function(E){if(x>=9){var F=E.style.width;E.style.width=0;E.style.width=F}},range:function(H,F){H=o.utils.unwrapObservable(H);F=o.utils.unwrapObservable(F);var E=[];for(var G=H;G<=F;G++){E.push(G)}return E},makeArray:function(H){var E=[];for(var G=0,F=H.length;G<F;G++){E.push(H[G])}return E},isIe6:s,isIe7:r,ieVersion:x,getFormFields:function(G,J){var E=o.utils.makeArray(G.getElementsByTagName("input")).concat(o.utils.makeArray(G.getElementsByTagName("textarea")));var I=(typeof J=="string")?function(K){return K.name===J}:function(K){return J.test(K.name)};var H=[];for(var F=E.length-1;F>=0;F--){if(I(E[F])){H.push(E[F])}}return H},parseJson:function(E){if(typeof E=="string"){E=o.utils.stringTrim(E);if(E){if(d.JSON&&d.JSON.parse){return d.JSON.parse(E)}return(new Function("return "+E))()}}return null},stringifyJson:function(G,E,F){if((typeof JSON=="undefined")||(typeof JSON.stringify=="undefined")){throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")}return JSON.stringify(o.utils.unwrapObservable(G),E,F)},postJson:function(J,K,Q){Q=Q||{};var H=Q.params||{};var G=Q.includeFields||this.fieldsIncludedWithJsonPost;var E=J;if((typeof J=="object")&&(o.utils.tagNameLower(J)==="form")){var N=J;E=N.action;for(var L=G.length-1;L>=0;L--){var M=o.utils.getFormFields(N,G[L]);for(var I=M.length-1;I>=0;I--){H[M[I].name]=M[I].value}}}K=o.utils.unwrapObservable(K);var F=a.createElement("form");F.style.display="none";F.action=E;F.method="post";for(var P in K){var O=a.createElement("input");O.name=P;O.value=o.utils.stringifyJson(o.utils.unwrapObservable(K[P]));F.appendChild(O)}for(var P in H){var O=a.createElement("input");O.name=P;O.value=H[P];F.appendChild(O)}a.body.appendChild(F);Q.submitter?Q.submitter(F):F.submit();setTimeout(function(){F.parentNode.removeChild(F)},0)}}})();o.exportSymbol("utils",o.utils);o.exportSymbol("utils.arrayForEach",o.utils.arrayForEach);o.exportSymbol("utils.arrayFirst",o.utils.arrayFirst);o.exportSymbol("utils.arrayFilter",o.utils.arrayFilter);o.exportSymbol("utils.arrayGetDistinctValues",o.utils.arrayGetDistinctValues);o.exportSymbol("utils.arrayIndexOf",o.utils.arrayIndexOf);o.exportSymbol("utils.arrayMap",o.utils.arrayMap);o.exportSymbol("utils.arrayPushAll",o.utils.arrayPushAll);o.exportSymbol("utils.arrayRemoveItem",o.utils.arrayRemoveItem);o.exportSymbol("utils.extend",o.utils.extend);o.exportSymbol("utils.fieldsIncludedWithJsonPost",o.utils.fieldsIncludedWithJsonPost);o.exportSymbol("utils.getFormFields",o.utils.getFormFields);o.exportSymbol("utils.postJson",o.utils.postJson);o.exportSymbol("utils.parseJson",o.utils.parseJson);o.exportSymbol("utils.registerEventHandler",o.utils.registerEventHandler);o.exportSymbol("utils.stringifyJson",o.utils.stringifyJson);o.exportSymbol("utils.range",o.utils.range);o.exportSymbol("utils.toggleDomNodeCssClass",o.utils.toggleDomNodeCssClass);o.exportSymbol("utils.triggerEvent",o.utils.triggerEvent);o.exportSymbol("utils.unwrapObservable",o.utils.unwrapObservable);if(!Function.prototype.bind){Function.prototype.bind=function(r){var s=this,q=Array.prototype.slice.call(arguments),r=q.shift();return function(){return s.apply(r,q.concat(Array.prototype.slice.call(arguments)))}}}o.utils.domData=new (function(){var s=0;var q="__ko__"+(new Date).getTime();var r={};return{get:function(v,u){var t=o.utils.domData.getAll(v,false);return t===e?e:t[u]},set:function(v,u,w){if(w===e){if(o.utils.domData.getAll(v,false)===e){return}}var t=o.utils.domData.getAll(v,true);t[u]=w},getAll:function(w,v){var u=w[q];var t=u&&(u!=="null");if(!t){if(!v){return e}u=w[q]="ko"+s++;r[u]={}}return r[u]},clear:function(u){var t=u[q];if(t){delete r[t];u[q]=null}}}})();o.exportSymbol("utils.domData",o.utils.domData);o.exportSymbol("utils.domData.clear",o.utils.domData.clear);o.utils.domNodeDisposal=new (function(){var t="__ko_domNodeDisposal__"+(new Date).getTime();var v={1:true,8:true,9:true};var q={1:true,9:true};function w(y,x){var z=o.utils.domData.get(y,t);if((z===e)&&x){z=[];o.utils.domData.set(y,t,z)}return z}function u(x){o.utils.domData.set(x,t,e)}function s(z){var y=w(z,false);if(y){y=y.slice(0);for(var x=0;x<y.length;x++){y[x](z)}}o.utils.domData.clear(z);if((typeof jQuery=="function")&&(typeof jQuery.cleanData=="function")){jQuery.cleanData([z])}if(q[z.nodeType]){r(z)}}function r(x){var z,y=x.firstChild;while(z=y){y=z.nextSibling;if(z.nodeType===8){s(z)}}}return{addDisposeCallback:function(x,y){if(typeof y!="function"){throw new Error("Callback must be a function")}w(x,true).push(y)},removeDisposeCallback:function(y,z){var x=w(y,false);if(x){o.utils.arrayRemoveItem(x,z);if(x.length==0){u(y)}}},cleanNode:function(z){if(v[z.nodeType]){s(z);if(q[z.nodeType]){var A=[];o.utils.arrayPushAll(A,z.getElementsByTagName("*"));for(var y=0,x=A.length;y<x;y++){s(A[y])}}}},removeNode:function(x){o.cleanNode(x);if(x.parentNode){x.parentNode.removeChild(x)}}}})();o.cleanNode=o.utils.domNodeDisposal.cleanNode;o.removeNode=o.utils.domNodeDisposal.removeNode;o.exportSymbol("cleanNode",o.cleanNode);o.exportSymbol("removeNode",o.removeNode);o.exportSymbol("utils.domNodeDisposal",o.utils.domNodeDisposal);o.exportSymbol("utils.domNodeDisposal.addDisposeCallback",o.utils.domNodeDisposal.addDisposeCallback);o.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",o.utils.domNodeDisposal.removeDisposeCallback);(function(){var s=/^(\s*)<!--(.*?)-->/;function q(v){var u=o.utils.stringTrim(v).toLowerCase(),x=a.createElement("div");var w=u.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!u.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!u.indexOf("<td")||!u.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];var t="ignored<div>"+w[1]+v+w[2]+"</div>";if(typeof d.innerShiv=="function"){x.appendChild(d.innerShiv(t))}else{x.innerHTML=t}while(w[0]--){x=x.lastChild}return o.utils.makeArray(x.lastChild.childNodes)}function r(u){var t=jQuery.clean([u]);if(t&&t[0]){var v=t[0];while(v.parentNode&&v.parentNode.nodeType!==11){v=v.parentNode}if(v.parentNode){v.parentNode.removeChild(v)}}return t}o.utils.parseHtmlFragment=function(t){return typeof jQuery!="undefined"?r(t):q(t)};o.utils.setHtml=function(v,u){o.utils.emptyDomNode(v);if((u!==null)&&(u!==e)){if(typeof u!="string"){u=u.toString()}if(typeof jQuery!="undefined"){jQuery(v)["html"](u)}else{var w=o.utils.parseHtmlFragment(u);for(var t=0;t<w.length;t++){v.appendChild(w[t])}}}}})();o.exportSymbol("utils.parseHtmlFragment",o.utils.parseHtmlFragment);o.exportSymbol("utils.setHtml",o.utils.setHtml);o.memoization=(function(){var t={};function r(){return(((1+Math.random())*4294967296)|0).toString(16).substring(1)}function q(){return r()+r()}function s(u,y){if(!u){return}if(u.nodeType==8){var x=o.memoization.parseMemoText(u.nodeValue);if(x!=null){y.push({domNode:u,memoId:x})}}else{if(u.nodeType==1){for(var w=0,z=u.childNodes,v=z.length;w<v;w++){s(z[w],y)}}}}return{memoize:function(v){if(typeof v!="function"){throw new Error("You can only pass a function to ko.memoization.memoize()")}var u=q();t[u]=v;return"<!--[ko_memo:"+u+"]-->"},unmemoize:function(v,u){var w=t[v];if(w===e){throw new Error("Couldn't find any memo with ID "+v+". Perhaps it's already been unmemoized.")}try{w.apply(null,u||[]);return true}finally{delete t[v]}},unmemoizeDomNodeAndDescendants:function(x,A){var z=[];s(x,z);for(var w=0,v=z.length;w<v;w++){var y=z[w].domNode;var u=[y];if(A){o.utils.arrayPushAll(u,A)}o.memoization.unmemoize(z[w].memoId,u);y.nodeValue="";if(y.parentNode){y.parentNode.removeChild(y)}}},parseMemoText:function(v){var u=v.match(/^\[ko_memo\:(.*?)\]$/);return u?u[1]:null}}})();o.exportSymbol("memoization",o.memoization);o.exportSymbol("memoization.memoize",o.memoization.memoize);o.exportSymbol("memoization.unmemoize",o.memoization.unmemoize);o.exportSymbol("memoization.parseMemoText",o.memoization.parseMemoText);o.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",o.memoization.unmemoizeDomNodeAndDescendants);o.extenders={throttle:function(r,q){r.throttleEvaluation=q;var s=null;return o.dependentObservable({read:r,write:function(t){clearTimeout(s);s=setTimeout(function(){r(t)},q)}})},notify:function(q,r){q.equalityComparer=r=="always"?function(){return false}:o.observable.fn["equalityComparer"];return q}};function n(t){var s=this;if(t){for(var r in t){var q=o.extenders[r];if(typeof q=="function"){s=q(s,t[r])}}}return s}o.exportSymbol("extenders",o.extenders);o.subscription=function(r,s,q){this.target=r;this.callback=s;this.disposeCallback=q;o.exportProperty(this,"dispose",this.dispose)};o.subscription.prototype.dispose=function(){this.isDisposed=true;this.disposeCallback()};o.subscribable=function(){this._subscriptions={};o.utils.extend(this,o.subscribable.fn);o.exportProperty(this,"subscribe",this.subscribe);o.exportProperty(this,"extend",this.extend);o.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)};var p="change";o.subscribable.fn={subscribe:function(u,r,t){t=t||p;var q=r?u.bind(r):u;var s=new o.subscription(this,q,function(){o.utils.arrayRemoveItem(this._subscriptions[t],s)}.bind(this));if(!this._subscriptions[t]){this._subscriptions[t]=[]}this._subscriptions[t].push(s);return s},notifySubscribers:function(q,r){r=r||p;if(this._subscriptions[r]){o.utils.arrayForEach(this._subscriptions[r].slice(0),function(s){if(s&&(s.isDisposed!==true)){s.callback(q)}})}},getSubscriptionsCount:function(){var r=0;for(var q in this._subscriptions){if(this._subscriptions.hasOwnProperty(q)){r+=this._subscriptions[q].length}}return r},extend:n};o.isSubscribable=function(q){return typeof q.subscribe=="function"&&typeof q.notifySubscribers=="function"};o.exportSymbol("subscribable",o.subscribable);o.exportSymbol("isSubscribable",o.isSubscribable);o.dependencyDetection=(function(){var q=[];return{begin:function(r){q.push({callback:r,distinctDependencies:[]})},end:function(){q.pop()},registerDependency:function(s){if(!o.isSubscribable(s)){throw new Error("Only subscribable things can act as dependencies")}if(q.length>0){var r=q[q.length-1];if(o.utils.arrayIndexOf(r.distinctDependencies,s)>=0){return}r.distinctDependencies.push(s);r.callback(s)}}}})();var i={"undefined":true,"boolean":true,number:true,string:true};o.observable=function(q){var r=q;function s(){if(arguments.length>0){if((!s.equalityComparer)||!s.equalityComparer(r,arguments[0])){s.valueWillMutate();r=arguments[0];if(c){s._latestValue=r}s.valueHasMutated()}return this}else{o.dependencyDetection.registerDependency(s);return r}}if(c){s._latestValue=r}o.subscribable.call(s);s.valueHasMutated=function(){s.notifySubscribers(r)};s.valueWillMutate=function(){s.notifySubscribers(r,"beforeChange")};o.utils.extend(s,o.observable.fn);o.exportProperty(s,"valueHasMutated",s.valueHasMutated);o.exportProperty(s,"valueWillMutate",s.valueWillMutate);return s};o.observable.fn={equalityComparer:function m(s,q){var r=(s===null)||(typeof(s) in i);return r?(s===q):false}};var l=o.observable.protoProperty="__ko_proto__";o.observable.fn[l]=o.observable;o.hasPrototype=function(q,r){if((q===null)||(q===e)||(q[l]===e)){return false}if(q[l]===r){return true}return o.hasPrototype(q[l],r)};o.isObservable=function(q){return o.hasPrototype(q,o.observable)};o.isWriteableObservable=function(q){if((typeof q=="function")&&q[l]===o.observable){return true}if((typeof q=="function")&&(q[l]===o.dependentObservable)&&(q.hasWriteFunction)){return true}return false};o.exportSymbol("observable",o.observable);o.exportSymbol("isObservable",o.isObservable);o.exportSymbol("isWriteableObservable",o.isWriteableObservable);o.observableArray=function(r){if(arguments.length==0){r=[]}if((r!==null)&&(r!==e)&&!("length" in r)){throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")}var q=o.observable(r);o.utils.extend(q,o.observableArray.fn);return q};o.observableArray.fn={remove:function(s){var v=this();var u=[];var q=typeof s=="function"?s:function(w){return w===s};for(var r=0;r<v.length;r++){var t=v[r];if(q(t)){if(u.length===0){this.valueWillMutate()}u.push(t);v.splice(r,1);r--}}if(u.length){this.valueHasMutated()}return u},removeAll:function(r){if(r===e){var s=this();var q=s.slice(0);this.valueWillMutate();s.splice(0,s.length);this.valueHasMutated();return q}if(!r){return[]}return this["remove"](function(t){return o.utils.arrayIndexOf(r,t)>=0})},destroy:function(s){var u=this();var q=typeof s=="function"?s:function(v){return v===s};this.valueWillMutate();for(var r=u.length-1;r>=0;r--){var t=u[r];if(q(t)){u[r]["_destroy"]=true}}this.valueHasMutated()},destroyAll:function(q){if(q===e){return this["destroy"](function(){return true})}if(!q){return[]}return this["destroy"](function(r){return o.utils.arrayIndexOf(q,r)>=0})},indexOf:function(q){var r=this();return o.utils.arrayIndexOf(r,q)},replace:function(s,r){var q=this["indexOf"](s);if(q>=0){this.valueWillMutate();this()[q]=r;this.valueHasMutated()}}};o.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(q){o.observableArray.fn[q]=function(){var s=this();this.valueWillMutate();var r=s[q].apply(s,arguments);this.valueHasMutated();return r}});o.utils.arrayForEach(["slice"],function(q){o.observableArray.fn[q]=function(){var r=this();return r[q].apply(r,arguments)}});o.exportSymbol("observableArray",o.observableArray);o.dependentObservable=function(t,z,r){var E,F=false,v=false,A=t;if(A&&typeof A=="object"){r=A;A=r.read}else{r=r||{};if(!A){A=r.read}}if(typeof A!="function"){throw new Error("Pass a function that returns the value of the ko.computed")}var s=r.write;if(!z){z=r.owner}var y=[];function C(){o.utils.arrayForEach(y,function(K){K.dispose()});y=[]}var J=C;var B=(typeof r.disposeWhenNodeIsRemoved=="object")?r.disposeWhenNodeIsRemoved:null;var u=r.disposeWhen||function(){return false};if(B){J=function(){o.utils.domNodeDisposal.removeDisposeCallback(B,arguments.callee);C()};o.utils.domNodeDisposal.addDisposeCallback(B,J);var D=u;u=function(){return !o.utils.domNodeIsAttachedToDocument(B)||D()}}var w=null;function I(){var K=q.throttleEvaluation;if(K&&K>=0){clearTimeout(w);w=setTimeout(H,K)}else{H()}}function H(){if(v){return}if(F&&u()){J();return}v=true;try{var M=o.utils.arrayMap(y,function(N){return N.target});o.dependencyDetection.begin(function(O){var N;if((N=o.utils.arrayIndexOf(M,O))>=0){M[N]=e}else{y.push(O.subscribe(I))}});var L=A.call(z);for(var K=M.length-1;K>=0;K--){if(M[K]){y.splice(K,1)[0].dispose()}}F=true;q.notifySubscribers(E,"beforeChange");E=L;if(c){q._latestValue=E}}finally{o.dependencyDetection.end()}q.notifySubscribers(E);v=false}function q(){if(arguments.length>0){x.apply(q,arguments)}else{return G()}}function x(){if(typeof s==="function"){s.apply(z,arguments)}else{throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")}}function G(){if(!F){H()}o.dependencyDetection.registerDependency(q);return E}q.getDependenciesCount=function(){return y.length};q.hasWriteFunction=typeof r.write==="function";q.dispose=function(){J()};o.subscribable.call(q);o.utils.extend(q,o.dependentObservable.fn);if(r.deferEvaluation!==true){H()}o.exportProperty(q,"dispose",q.dispose);o.exportProperty(q,"getDependenciesCount",q.getDependenciesCount);return q};o.isComputed=function(q){return o.hasPrototype(q,o.dependentObservable)};var j=o.observable.protoProperty;o.dependentObservable[j]=o.observable;o.dependentObservable.fn={};o.dependentObservable.fn[j]=o.dependentObservable;o.exportSymbol("dependentObservable",o.dependentObservable);o.exportSymbol("computed",o.dependentObservable);o.exportSymbol("isComputed",o.isComputed);(function(){var r=10;o.toJS=function(u){if(arguments.length==0){throw new Error("When calling ko.toJS, pass the object you want to convert.")}return s(u,function(w){for(var v=0;o.isObservable(w)&&(v<r);v++){w=w()}return w})};o.toJSON=function(x,u,w){var v=o.toJS(x);return o.utils.stringifyJson(v,u,w)};function s(y,u,w){w=w||new t();y=u(y);var x=(typeof y=="object")&&(y!==null)&&(y!==e)&&(!(y instanceof Date));if(!x){return y}var v=y instanceof Array?[]:{};w.save(y,v);q(y,function(A){var z=u(y[A]);switch(typeof z){case"boolean":case"number":case"string":case"function":v[A]=z;break;case"object":case"undefined":var B=w.get(z);v[A]=(B!==e)?B:s(z,u,w);break}});return v}function q(w,x){if(w instanceof Array){for(var v=0;v<w.length;v++){x(v)}if(typeof w.toJSON=="function"){x("toJSON")}}else{for(var u in w){x(u)}}}function t(){var v=[];var u=[];this.save=function(x,y){var w=o.utils.arrayIndexOf(v,x);if(w>=0){u[w]=y}else{v.push(x);u.push(y)}};this.get=function(x){var w=o.utils.arrayIndexOf(v,x);return(w>=0)?u[w]:e}}})();o.exportSymbol("toJS",o.toJS);o.exportSymbol("toJSON",o.toJSON);(function(){var q="__ko__hasDomDataOptionValue__";o.selectExtensions={readValue:function(r){switch(o.utils.tagNameLower(r)){case"option":if(r[q]===true){return o.utils.domData.get(r,o.bindingHandlers.options.optionValueDomDataKey)}return r.getAttribute("value");case"select":return r.selectedIndex>=0?o.selectExtensions.readValue(r.options[r.selectedIndex]):e;default:return r.value}},writeValue:function(s,t){switch(o.utils.tagNameLower(s)){case"option":switch(typeof t){case"string":o.utils.domData.set(s,o.bindingHandlers.options.optionValueDomDataKey,e);if(q in s){delete s[q]}s.value=t;break;default:o.utils.domData.set(s,o.bindingHandlers.options.optionValueDomDataKey,t);s[q]=true;s.value=typeof t==="number"?t:"";break}break;case"select":for(var r=s.options.length-1;r>=0;r--){if(o.selectExtensions.readValue(s.options[r])==t){s.selectedIndex=r;break}}break;default:if((t===null)||(t===e)){t=""}s.value=t;break}}}})();o.exportSymbol("selectExtensions",o.selectExtensions);o.exportSymbol("selectExtensions.readValue",o.selectExtensions.readValue);o.exportSymbol("selectExtensions.writeValue",o.selectExtensions.writeValue);o.jsonExpressionRewriting=(function(){var v=/\@ko_token_(\d+)\@/g;var u=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i;var r=["true","false"];function q(w,y){var x=null;while(w!=x){x=w;w=w.replace(v,function(A,z){return y[z]})}return w}function t(w){if(o.utils.arrayIndexOf(r,o.utils.stringTrim(w).toLowerCase())>=0){return false}return w.match(u)!==null}function s(x){var w=o.utils.stringTrim(x);switch(w.length&&w.charAt(0)){case"'":case'"':return x;default:return"'"+w+"'"}}return{bindingRewriteValidators:[],parseObjectLiteral:function(J){var G=o.utils.stringTrim(J);if(G.length<3){return[]}if(G.charAt(0)==="{"){G=G.substring(1,G.length-1)}var D=[];var w=null,y;for(var N=0;N<G.length;N++){var L=G.charAt(N);if(w===null){switch(L){case'"':case"'":case"/":w=N;y=L;break}}else{if((L==y)&&(G.charAt(N-1)!=="\\")){var z=G.substring(w,N+1);D.push(z);var H="@ko_token_"+(D.length-1)+"@";G=G.substring(0,w)+H+G.substring(N+1);N-=(z.length-H.length);w=null}}}w=null;y=null;var M=0,C=null;for(var N=0;N<G.length;N++){var L=G.charAt(N);if(w===null){switch(L){case"{":w=N;C=L;y="}";break;case"(":w=N;C=L;y=")";break;case"[":w=N;C=L;y="]";break}}if(L===C){M++}else{if(L===y){M--;if(M===0){var z=G.substring(w,N+1);D.push(z);var H="@ko_token_"+(D.length-1)+"@";G=G.substring(0,w)+H+G.substring(N+1);N-=(z.length-H.length);w=null}}}}var A=[];var x=G.split(",");for(var K=0,I=x.length;K<I;K++){var E=x[K];var B=E.indexOf(":");if((B>0)&&(B<E.length-1)){var O=E.substring(0,B);var F=E.substring(B+1);A.push({key:q(O,D),value:q(F,D)})}else{A.push({unknown:q(E,D)})}}return A},insertPropertyAccessorsIntoJson:function(z){var F=typeof z==="string"?o.jsonExpressionRewriting.parseObjectLiteral(z):z;var w=[],E=[];var x;for(var B=0;x=F[B];B++){if(w.length>0){w.push(",")}if(x.key){var D=s(x.key),y=x.value;w.push(D);w.push(":");w.push(y);if(t(o.utils.stringTrim(y))){if(E.length>0){E.push(", ")}E.push(D+" : function(__ko_value) { "+y+" = __ko_value; }")}}else{if(x.unknown){w.push(x.unknown)}}}var A=w.join("");if(E.length>0){var C=E.join("");A=A+", '_ko_property_writers' : { "+C+" } "}return A},keyValueArrayContainsKey:function(w,y){for(var x=0;x<w.length;x++){if(o.utils.stringTrim(w[x]["key"])==y){return true}}return false},writeValueToProperty:function(z,A,w,y,x){if(!z||!o.isWriteableObservable(z)){var B=A()["_ko_property_writers"];if(B&&B[w]){B[w](y)}}else{if(!x||z()!==y){z(y)}}}}})();o.exportSymbol("jsonExpressionRewriting",o.jsonExpressionRewriting);o.exportSymbol("jsonExpressionRewriting.bindingRewriteValidators",o.jsonExpressionRewriting.bindingRewriteValidators);o.exportSymbol("jsonExpressionRewriting.parseObjectLiteral",o.jsonExpressionRewriting.parseObjectLiteral);o.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",o.jsonExpressionRewriting.insertPropertyAccessorsIntoJson);(function(){var s=a.createComment("test").text==="<!--test-->";var v=s?/^<!--\s*ko\s+(.*\:.*)\s*-->$/:/^\s*ko\s+(.*\:.*)\s*$/;var r=s?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/;var u={ul:true,ol:true};function q(z){return(z.nodeType==8)&&(s?z.text:z.nodeValue).match(v)}function w(z){return(z.nodeType==8)&&(s?z.text:z.nodeValue).match(r)}function t(z,C){var B=z;var D=1;var A=[];while(B=B.nextSibling){if(w(B)){D--;if(D===0){return A}}A.push(B);if(q(B)){D++}}if(!C){throw new Error("Cannot find closing comment tag to match: "+z.nodeValue)}return null}function x(z,A){var B=t(z,A);if(B){if(B.length>0){return B[B.length-1].nextSibling}return z.nextSibling}else{return null}}function y(C){var A=C.firstChild,B=null;if(A){do{if(B){B.push(A)}else{if(q(A)){var z=x(A,true);if(z){A=z}else{B=[A]}}else{if(w(A)){B=[A]}}}}while(A=A.nextSibling)}return B}o.virtualElements={allowedBindings:{},childNodes:function(z){return q(z)?t(z):z.childNodes},emptyNode:function(C){if(!q(C)){o.utils.emptyDomNode(C)}else{var B=o.virtualElements.childNodes(C);for(var A=0,z=B.length;A<z;A++){o.removeNode(B[A])}}},setDomNodeChildren:function(C,D){if(!q(C)){o.utils.setDomNodeChildren(C,D)}else{o.virtualElements.emptyNode(C);var z=C.nextSibling;for(var B=0,A=D.length;B<A;B++){z.parentNode.insertBefore(D[B],z)}}},prepend:function(z,A){if(!q(z)){if(z.firstChild){z.insertBefore(A,z.firstChild)}else{z.appendChild(A)}}else{z.parentNode.insertBefore(A,z.nextSibling)}},insertAfter:function(A,z,B){if(!q(A)){if(B.nextSibling){A.insertBefore(z,B.nextSibling)}else{A.appendChild(z)}}else{A.parentNode.insertBefore(z,B.nextSibling)}},firstChild:function(z){if(!q(z)){return z.firstChild}if(!z.nextSibling||w(z.nextSibling)){return null}return z.nextSibling},nextSibling:function(z){if(q(z)){z=x(z)}if(z.nextSibling&&w(z.nextSibling)){return null}return z.nextSibling},virtualNodeBindingValue:function(z){var A=q(z);return A?A[1]:null},normaliseVirtualElementDomStructure:function(D){if(!u[o.utils.tagNameLower(D)]){return}var B=D.firstChild;if(B){do{if(B.nodeType===1){var C=y(B);if(C){var z=B.nextSibling;for(var A=0;A<C.length;A++){if(z){D.insertBefore(C[A],z)}else{D.appendChild(C[A])}}}}}while(B=B.nextSibling)}}}})();o.exportSymbol("virtualElements",o.virtualElements);o.exportSymbol("virtualElements.allowedBindings",o.virtualElements.allowedBindings);o.exportSymbol("virtualElements.emptyNode",o.virtualElements.emptyNode);o.exportSymbol("virtualElements.insertAfter",o.virtualElements.insertAfter);o.exportSymbol("virtualElements.prepend",o.virtualElements.prepend);o.exportSymbol("virtualElements.setDomNodeChildren",o.virtualElements.setDomNodeChildren);(function(){var r="data-bind";o.bindingProvider=function(){this.bindingCache={}};o.utils.extend(o.bindingProvider.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return t.getAttribute(r)!=null;case 8:return o.virtualElements.virtualNodeBindingValue(t)!=null;default:return false}},getBindings:function(v,t){var u=this["getBindingsString"](v,t);return u?this["parseBindingsString"](u,t):null},getBindingsString:function(u,t){switch(u.nodeType){case 1:return u.getAttribute(r);case 8:return o.virtualElements.virtualNodeBindingValue(u);default:return null}},parseBindingsString:function(x,t){try{var u=t["$data"],w=(typeof u=="object"&&u!=null)?[u,t]:[t],y=q(x,w.length,this.bindingCache);return y(w)}catch(v){throw new Error("Unable to parse bindings.\nMessage: "+v+";\nBindings value: "+x)}}});o.bindingProvider.instance=new o.bindingProvider();function q(v,u,t){var w=u+"_"+v;return t[w]||(t[w]=s(v,u))}function s(v,u){var t=" { "+o.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(v)+" } ";return o.utils.buildEvalWithinScopeFunction(t,u)}})();o.exportSymbol("bindingProvider",o.bindingProvider);(function(){o.bindingHandlers={};o.bindingContext=function(w,v){if(v){o.utils.extend(this,v);this["$parentContext"]=v;this["$parent"]=v["$data"];this["$parents"]=(v["$parents"]||[]).slice(0);this["$parents"].unshift(this["$parent"])}else{this["$parents"]=[];this["$root"]=w}this["$data"]=w};o.bindingContext.prototype.createChildContext=function(v){return new o.bindingContext(v,this)};o.bindingContext.prototype.extend=function(v){var w=o.utils.extend(new o.bindingContext(),this);return o.utils.extend(w,v)};function u(w){var v=o.virtualElements.allowedBindings[w];if(!v){throw new Error("The binding '"+w+"' cannot be used with virtual elements")}}function s(w,z,v){var x,y=o.virtualElements.firstChild(z);while(x=y){y=o.virtualElements.nextSibling(x);r(w,x,v)}}function r(w,v,z){var A=true;var y=(v.nodeType===1);if(y){o.virtualElements.normaliseVirtualElementDomStructure(v)}var x=(y&&z)||o.bindingProvider.instance["nodeHasBindings"](v);if(x){A=q(v,null,w,z).shouldBindDescendants}if(A){s(w,v,!y)}}function q(y,w,A,v){var C=0;var z;function x(E){return function(){return z[E]}}function D(){return z}var B;o.dependentObservable(function(){var L=A&&(A instanceof o.bindingContext)?A:new o.bindingContext(o.utils.unwrapObservable(A));var I=L["$data"];if(v){o.storedBindingContextForNode(y,L)}var H=(typeof w=="function")?w():w;z=H||o.bindingProvider.instance["getBindings"](y,L);if(z){if(C===0){C=1;for(var G in z){var K=o.bindingHandlers[G];if(K&&y.nodeType===8){u(G)}if(K&&typeof K.init=="function"){var E=K.init;var F=E(y,x(G),D,I,L);if(F&&F.controlsDescendantBindings){if(B!==e){throw new Error("Multiple bindings ("+B+" and "+G+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")}B=G}}}C=2}if(C===2){for(var G in z){var K=o.bindingHandlers[G];if(K&&typeof K.update=="function"){var J=K.update;J(y,x(G),D,I,L)}}}}},null,{disposeWhenNodeIsRemoved:y});return{shouldBindDescendants:B===e}}var t="__ko_bindingContext__";o.storedBindingContextForNode=function(w,v){if(arguments.length==2){o.utils.domData.set(w,t,v)}else{return o.utils.domData.get(w,t)}};o.applyBindingsToNode=function(w,x,v){if(w.nodeType===1){o.virtualElements.normaliseVirtualElementDomStructure(w)}return q(w,x,v,true)};o.applyBindingsToDescendants=function(w,v){if(v.nodeType===1||v.nodeType===8){s(w,v,true)}};o.applyBindings=function(w,v){if(v&&(v.nodeType!==1)&&(v.nodeType!==8)){throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node")}v=v||d.document.body;r(w,v,true)};o.contextFor=function(w){switch(w.nodeType){case 1:case 8:var v=o.storedBindingContextForNode(w);if(v){return v}if(w.parentNode){return o.contextFor(w.parentNode)}break}return e};o.dataFor=function(w){var v=o.contextFor(w);return v?v["$data"]:e};o.exportSymbol("bindingHandlers",o.bindingHandlers);o.exportSymbol("applyBindings",o.applyBindings);o.exportSymbol("applyBindingsToDescendants",o.applyBindingsToDescendants);o.exportSymbol("applyBindingsToNode",o.applyBindingsToNode);o.exportSymbol("contextFor",o.contextFor);o.exportSymbol("dataFor",o.dataFor)})();var k=["click"];o.utils.arrayForEach(k,function(q){o.bindingHandlers[q]={init:function(t,u,v,s){var r=function(){var w={};w[q]=u();return w};return o.bindingHandlers.event["init"].call(this,t,r,v,s)}}});o.bindingHandlers.event={init:function(r,u,v,q){var s=u()||{};for(var t in s){(function(){var w=t;if(typeof w=="string"){o.utils.registerEventHandler(r,w,function(z){var C;var B=u()[w];if(!B){return}var A=v();try{var y=o.utils.makeArray(arguments);y.unshift(q);C=B.apply(q,y)}finally{if(C!==true){if(z.preventDefault){z.preventDefault()}else{z.returnValue=false}}}var x=A[w+"Bubble"]!==false;if(!x){z.cancelBubble=true;if(z.stopPropagation){z.stopPropagation()}}})}})()}}};o.bindingHandlers.submit={init:function(r,s,t,q){if(typeof s()!="function"){throw new Error("The value for a submit binding must be a function")}o.utils.registerEventHandler(r,"submit",function(u){var w;var v=s();try{w=v.call(q,r)}finally{if(w!==true){if(u.preventDefault){u.preventDefault()}else{u.returnValue=false}}}})}};o.bindingHandlers.visible={update:function(r,s){var t=o.utils.unwrapObservable(s());var q=!(r.style.display=="none");if(t&&!q){r.style.display=""}else{if((!t)&&q){r.style.display="none"}}}};o.bindingHandlers.enable={update:function(q,r){var s=o.utils.unwrapObservable(r());if(s&&q.disabled){q.removeAttribute("disabled")}else{if((!s)&&(!q.disabled)){q.disabled=true}}}};o.bindingHandlers.disable={update:function(q,r){o.bindingHandlers.enable["update"](q,function(){return !o.utils.unwrapObservable(r())})}};function f(s,r,q){if(q){if(r!==o.selectExtensions.readValue(s)){o.selectExtensions.writeValue(s,r)}}if(r!==o.selectExtensions.readValue(s)){o.utils.triggerEvent(s,"change")}}o.bindingHandlers.value={init:function(s,u,w){var t=["change"];var r=w()["valueUpdate"];if(r){if(typeof r=="string"){r=[r]}o.utils.arrayPushAll(t,r);t=o.utils.arrayGetDistinctValues(t)}var q=function(){var y=u();var z=o.selectExtensions.readValue(s);o.jsonExpressionRewriting.writeValueToProperty(y,w,"value",z,true)};var x=o.utils.ieVersion&&s.tagName.toLowerCase()=="input"&&s.type=="text"&&s.autocomplete!="off"&&(!s.form||s.form.autocomplete!="off");if(x&&o.utils.arrayIndexOf(t,"propertychange")==-1){var v=false;o.utils.registerEventHandler(s,"propertychange",function(){v=true});o.utils.registerEventHandler(s,"blur",function(){if(v){v=false;q()}})}o.utils.arrayForEach(t,function(y){var z=q;if(o.utils.stringStartsWith(y,"after")){z=function(){setTimeout(q,0)};y=y.substring("after".length)}o.utils.registerEventHandler(s,y,z)})},update:function(s,u){var r=o.utils.tagNameLower(s)==="select";var v=o.utils.unwrapObservable(u());var x=o.selectExtensions.readValue(s);var t=(v!=x);if((v===0)&&(x!==0)&&(x!=="0")){t=true}if(t){var w=function(){o.selectExtensions.writeValue(s,v)};w();var q=r;if(q){setTimeout(w,0)}}if(r&&(s.length>0)){f(s,v,false)}}};o.bindingHandlers.options={update:function(x,C,v){if(o.utils.tagNameLower(x)!=="select"){throw new Error("options binding applies only to SELECT elements")}var s=x.length==0;var D=o.utils.arrayMap(o.utils.arrayFilter(x.childNodes,function(H){return H.tagName&&(o.utils.tagNameLower(H)==="option")&&H.selected}),function(H){return o.selectExtensions.readValue(H)||H.innerText||H.textContent});var t=x.scrollTop;var F=o.utils.unwrapObservable(C());var B=x.value;while(x.length>0){o.cleanNode(x.options[0]);x.remove(0)}if(F){var A=v();if(typeof F.length!="number"){F=[F]}if(A.optionsCaption){var z=a.createElement("option");o.utils.setHtml(z,A.optionsCaption);o.selectExtensions.writeValue(z,e);x.appendChild(z)}for(var w=0,u=F.length;w<u;w++){var z=a.createElement("option");var E=typeof A.optionsValue=="string"?F[w][A.optionsValue]:F[w];E=o.utils.unwrapObservable(E);o.selectExtensions.writeValue(z,E);var q=A.optionsText;var G;if(typeof q=="function"){G=q(F[w])}else{if(typeof q=="string"){G=F[w][q]}else{G=E}}if((G===null)||(G===e)){G=""}o.utils.setTextContent(z,G);x.appendChild(z)}var r=x.getElementsByTagName("option");var y=0;for(var w=0,u=r.length;w<u;w++){if(o.utils.arrayIndexOf(D,o.selectExtensions.readValue(r[w]))>=0){o.utils.setOptionNodeSelectionState(r[w],true);y++}}x.scrollTop=t;if(s&&("value" in A)){f(x,o.utils.unwrapObservable(A.value),true)}o.utils.ensureSelectElementIsRenderedCorrectly(x)}}};o.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__";o.bindingHandlers.selectedOptions={getSelectedValuesFromSelectNode:function(t){var q=[];var r=t.childNodes;for(var v=0,s=r.length;v<s;v++){var w=r[v],u=o.utils.tagNameLower(w);if(u=="option"&&w.selected){q.push(o.selectExtensions.readValue(w))}else{if(u=="optgroup"){var x=o.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(w);Array.prototype.splice.apply(q,[q.length,0].concat(x))}}}return q},init:function(q,r,s){o.utils.registerEventHandler(q,"change",function(){var u=r();var t=o.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(this);o.jsonExpressionRewriting.writeValueToProperty(u,s,"value",t)})},update:function(t,v){if(o.utils.tagNameLower(t)!="select"){throw new Error("values binding applies only to SELECT elements")}var w=o.utils.unwrapObservable(v());if(w&&typeof w.length=="number"){var q=t.childNodes;for(var s=0,r=q.length;s<r;s++){var u=q[s];if(o.utils.tagNameLower(u)==="option"){o.utils.setOptionNodeSelectionState(u,o.utils.arrayIndexOf(w,o.selectExtensions.readValue(u))>=0)}}}}};o.bindingHandlers.text={update:function(q,r){o.utils.setTextContent(q,r())}};o.bindingHandlers.html={init:function(){return{controlsDescendantBindings:true}},update:function(q,r){var s=o.utils.unwrapObservable(r());o.utils.setHtml(q,s)}};o.bindingHandlers.css={update:function(r,t){var u=o.utils.unwrapObservable(t()||{});for(var s in u){if(typeof s=="string"){var q=o.utils.unwrapObservable(u[s]);o.utils.toggleDomNodeCssClass(r,s,q)}}}};o.bindingHandlers.style={update:function(s,t){var u=o.utils.unwrapObservable(t()||{});for(var r in u){if(typeof r=="string"){var q=o.utils.unwrapObservable(u[r]);s.style[r]=q||""}}}};o.bindingHandlers.uniqueName={init:function(q,r){if(r()){q.name="ko_unique_"+(++o.bindingHandlers.uniqueName.currentIndex);if(o.utils.isIe6||o.utils.isIe7){q.mergeAttributes(a.createElement("<input name='"+q.name+"'/>"),false)}}}};o.bindingHandlers.uniqueName.currentIndex=0;o.bindingHandlers.checked={init:function(q,s,t){var r=function(){var w;if(q.type=="checkbox"){w=q.checked}else{if((q.type=="radio")&&(q.checked)){w=q.value}else{return}}var u=s();if((q.type=="checkbox")&&(o.utils.unwrapObservable(u) instanceof Array)){var v=o.utils.arrayIndexOf(o.utils.unwrapObservable(u),q.value);if(q.checked&&(v<0)){u.push(q.value)}else{if((!q.checked)&&(v>=0)){u.splice(v,1)}}}else{o.jsonExpressionRewriting.writeValueToProperty(u,t,"checked",w,true)}};o.utils.registerEventHandler(q,"click",r);if((q.type=="radio")&&!q.name){o.bindingHandlers.uniqueName["init"](q,function(){return true})}},update:function(q,r){var s=o.utils.unwrapObservable(r());if(q.type=="checkbox"){if(s instanceof Array){q.checked=o.utils.arrayIndexOf(s,q.value)>=0}else{q.checked=s}}else{if(q.type=="radio"){q.checked=(q.value==s)}}}};var g={"class":"className","for":"htmlFor"};o.bindingHandlers.attr={update:function(r,t,w){var u=o.utils.unwrapObservable(t())||{};for(var q in u){if(typeof q=="string"){var v=o.utils.unwrapObservable(u[q]);var s=(v===false)||(v===null)||(v===e);if(s){r.removeAttribute(q)}if(o.utils.ieVersion<=8&&q in g){q=g[q];if(s){r.removeAttribute(q)}else{r[q]=v}}else{if(!s){r.setAttribute(q,v.toString())}}}}}};o.bindingHandlers.hasfocus={init:function(r,s,t){var q=function(v){var u=s();o.jsonExpressionRewriting.writeValueToProperty(u,t,"hasfocus",v,true)};o.utils.registerEventHandler(r,"focus",function(){q(true)});o.utils.registerEventHandler(r,"focusin",function(){q(true)});o.utils.registerEventHandler(r,"blur",function(){q(false)});o.utils.registerEventHandler(r,"focusout",function(){q(false)})},update:function(q,r){var s=o.utils.unwrapObservable(r());s?q.focus():q.blur();o.utils.triggerEvent(q,s?"focusin":"focusout")}};o.bindingHandlers["with"]={makeTemplateValueAccessor:function(q){return function(){var r=q();return{"if":r,data:r,templateEngine:o.nativeTemplateEngine.instance}}},init:function(s,t,u,r,q){return o.bindingHandlers.template["init"](s,o.bindingHandlers["with"].makeTemplateValueAccessor(t))},update:function(s,t,u,r,q){return o.bindingHandlers.template["update"](s,o.bindingHandlers["with"].makeTemplateValueAccessor(t),u,r,q)}};o.jsonExpressionRewriting.bindingRewriteValidators["with"]=false;o.virtualElements.allowedBindings["with"]=true;o.bindingHandlers["if"]={makeTemplateValueAccessor:function(q){return function(){return{"if":q(),templateEngine:o.nativeTemplateEngine.instance}}},init:function(s,t,u,r,q){return o.bindingHandlers.template["init"](s,o.bindingHandlers["if"].makeTemplateValueAccessor(t))},update:function(s,t,u,r,q){return o.bindingHandlers.template["update"](s,o.bindingHandlers["if"].makeTemplateValueAccessor(t),u,r,q)}};o.jsonExpressionRewriting.bindingRewriteValidators["if"]=false;o.virtualElements.allowedBindings["if"]=true;o.bindingHandlers.ifnot={makeTemplateValueAccessor:function(q){return function(){return{ifnot:q(),templateEngine:o.nativeTemplateEngine.instance}}},init:function(s,t,u,r,q){return o.bindingHandlers.template["init"](s,o.bindingHandlers.ifnot.makeTemplateValueAccessor(t))},update:function(s,t,u,r,q){return o.bindingHandlers.template["update"](s,o.bindingHandlers.ifnot.makeTemplateValueAccessor(t),u,r,q)}};o.jsonExpressionRewriting.bindingRewriteValidators.ifnot=false;o.virtualElements.allowedBindings.ifnot=true;o.bindingHandlers.foreach={makeTemplateValueAccessor:function(q){return function(){var r=o.utils.unwrapObservable(q());if((!r)||typeof r.length=="number"){return{foreach:r,templateEngine:o.nativeTemplateEngine.instance}}return{foreach:r.data,includeDestroyed:r.includeDestroyed,afterAdd:r.afterAdd,beforeRemove:r.beforeRemove,afterRender:r.afterRender,templateEngine:o.nativeTemplateEngine.instance}}},init:function(s,t,u,r,q){return o.bindingHandlers.template["init"](s,o.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(s,t,u,r,q){return o.bindingHandlers.template["update"](s,o.bindingHandlers.foreach.makeTemplateValueAccessor(t),u,r,q)}};o.jsonExpressionRewriting.bindingRewriteValidators.foreach=false;o.virtualElements.allowedBindings.foreach=true;o.templateEngine=function(){};o.templateEngine.prototype.renderTemplateSource=function(q,r,s){throw new Error("Override renderTemplateSource")};o.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(q){throw new Error("Override createJavaScriptEvaluatorBlock")};o.templateEngine.prototype.makeTemplateSource=function(r,q){if(typeof r=="string"){q=q||a;var s=q.getElementById(r);if(!s){throw new Error("Cannot find template with ID "+r)}return new o.templateSources.domElement(s)}else{if((r.nodeType==1)||(r.nodeType==8)){return new o.templateSources.anonymousTemplate(r)}else{throw new Error("Unknown template type: "+r)}}};o.templateEngine.prototype.renderTemplate=function(u,r,s,t){var q=this["makeTemplateSource"](u,t);return this["renderTemplateSource"](q,r,s)};o.templateEngine.prototype.isTemplateRewritten=function(r,q){if(this["allowTemplateRewriting"]===false){return true}var s=q&&q!=a;if(!s&&this.knownRewrittenTemplates&&this.knownRewrittenTemplates[r]){return true}return this["makeTemplateSource"](r,q)["data"]("isRewritten")};o.templateEngine.prototype.rewriteTemplate=function(t,r,s){var q=this["makeTemplateSource"](t,s);var u=r(q.text());q.text(u);q.data("isRewritten",true);var v=s&&s!=a;if(!v&&typeof t=="string"){this.knownRewrittenTemplates=this.knownRewrittenTemplates||{};this.knownRewrittenTemplates[t]=true}};o.exportSymbol("templateEngine",o.templateEngine);o.templateRewriting=(function(){var q=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi;var t=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;function s(u){var v=o.jsonExpressionRewriting.bindingRewriteValidators;for(var y=0;y<u.length;y++){var x=u[y]["key"];if(v.hasOwnProperty(x)){var w=v[x];if(typeof w==="function"){var z=w(u[y]["value"]);if(z){throw new Error(z)}}else{if(!w){throw new Error("This template engine does not support the '"+x+"' binding within its templates")}}}}}function r(w,v,x){var u=o.jsonExpressionRewriting.parseObjectLiteral(w);s(u);var z=o.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(u);var y="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+z+" } })()         })";return x.createJavaScriptEvaluatorBlock(y)+v}return{ensureTemplateIsRewritten:function(v,w,u){if(!w.isTemplateRewritten(v,u)){w.rewriteTemplate(v,function(x){return o.templateRewriting.memoizeBindingAttributeSyntax(x,w)},u)}},memoizeBindingAttributeSyntax:function(u,v){return u.replace(q,function(){return r(arguments[6],arguments[1],v)}).replace(t,function(){return r(arguments[1],"<!-- ko -->",v)})},applyMemoizedBindingsToNextSibling:function(u){return o.memoization.memoize(function(w,v){if(w.nextSibling){o.applyBindingsToNode(w.nextSibling,u,v)}})}}})();o.exportSymbol("templateRewriting",o.templateRewriting);o.exportSymbol("templateRewriting.applyMemoizedBindingsToNextSibling",o.templateRewriting.applyMemoizedBindingsToNextSibling);(function(){o.templateSources={};o.templateSources.domElement=function(r){this.domElement=r};o.templateSources.domElement.prototype.text=function(){var r=o.utils.tagNameLower(this.domElement),t=r==="script"?"text":r==="textarea"?"value":"innerHTML";if(arguments.length==0){return this.domElement[t]}else{var s=arguments[0];if(t==="innerHTML"){o.utils.setHtml(this.domElement,s)}else{this.domElement[t]=s}}};o.templateSources.domElement.prototype.data=function(r){if(arguments.length===1){return o.utils.domData.get(this.domElement,"templateSourceData_"+r)}else{o.utils.domData.set(this.domElement,"templateSourceData_"+r,arguments[1])}};var q="__ko_anon_template__";o.templateSources.anonymousTemplate=function(r){this.domElement=r};o.templateSources.anonymousTemplate.prototype=new o.templateSources.domElement();o.templateSources.anonymousTemplate.prototype.text=function(){if(arguments.length==0){var s=o.utils.domData.get(this.domElement,q)||{};if(s.textData===e&&s.containerData){s.textData=s.containerData.innerHTML}return s.textData}else{var r=arguments[0];o.utils.domData.set(this.domElement,q,{textData:r})}};o.templateSources.domElement.prototype.nodes=function(){if(arguments.length==0){var s=o.utils.domData.get(this.domElement,q)||{};return s.containerData}else{var r=arguments[0];o.utils.domData.set(this.domElement,q,{containerData:r})}};o.exportSymbol("templateSources",o.templateSources);o.exportSymbol("templateSources.domElement",o.templateSources.domElement);o.exportSymbol("templateSources.anonymousTemplate",o.templateSources.anonymousTemplate)})();(function(){var v;o.setTemplateEngine=function(x){if((x!=e)&&!(x instanceof o.templateEngine)){throw new Error("templateEngine must inherit from ko.templateEngine")}v=x};function s(A,y,z){var x,B=A,C=o.virtualElements.nextSibling(y);while(B&&((x=B)!==C)){B=o.virtualElements.nextSibling(x);if(x.nodeType===1||x.nodeType===8){z(x)}}}function t(y,x){if(y.length){var A=y[0],z=y[y.length-1];s(A,z,function(B){o.applyBindings(x,B)});s(A,z,function(B){o.memoization.unmemoizeDomNodeAndDescendants(B,[x])})}}function r(x){return x.nodeType?x:x.length>0?x[0]:null}function w(x,F,E,A,G){G=G||{};var C=x&&r(x);var y=C&&C.ownerDocument;var B=(G.templateEngine||v);o.templateRewriting.ensureTemplateIsRewritten(E,B,y);var D=B.renderTemplate(E,A,G,y);if((typeof D.length!="number")||(D.length>0&&typeof D[0].nodeType!="number")){throw new Error("Template engine must return an array of DOM nodes")}var z=false;switch(F){case"replaceChildren":o.virtualElements.setDomNodeChildren(x,D);z=true;break;case"replaceNode":o.utils.replaceDomNodes(x,D);z=true;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+F)}if(z){t(D,A);if(G.afterRender){G.afterRender(D,A["$data"])}}return D}o.renderTemplate=function(B,D,z,C,E){z=z||{};if((z.templateEngine||v)==e){throw new Error("Set a template engine before calling renderTemplate")}E=E||"replaceChildren";if(C){var A=r(C);var y=function(){return(!A)||!o.utils.domNodeIsAttachedToDocument(A)};var x=(A&&E=="replaceNode")?A.parentNode:A;return o.dependentObservable(function(){var G=(D&&(D instanceof o.bindingContext))?D:new o.bindingContext(o.utils.unwrapObservable(D));var F=typeof(B)=="function"?B(G["$data"]):B;var H=w(C,E,F,G,z);if(E=="replaceNode"){C=H;A=r(C)}},null,{disposeWhen:y,disposeWhenNodeIsRemoved:x})}else{return o.memoization.memoize(function(F){o.renderTemplate(B,D,z,F,"replaceNode")})}};o.renderTemplateForEach=function(C,D,A,E,y){var B;var z=function(H,G){var F=typeof(C)=="function"?C(H):C;B=y.createChildContext(o.utils.unwrapObservable(H));B["$index"]=G;return w(null,"ignoreTargetNode",F,B,A)};var x=function(G,H,F){t(H,B);if(A.afterRender){A.afterRender(H,G)}};return o.dependentObservable(function(){var F=o.utils.unwrapObservable(D)||[];if(typeof F.length=="undefined"){F=[F]}var G=o.utils.arrayFilter(F,function(H){return A.includeDestroyed||H===e||H===null||!o.utils.unwrapObservable(H._destroy)});o.utils.setDomNodeChildrenFromArrayMapping(E,G,z,A,x)},null,{disposeWhenNodeIsRemoved:E})};var q="__ko__templateSubscriptionDomDataKey__";function u(y,x){var z=o.utils.domData.get(y,q);if(z&&(typeof(z.dispose)=="function")){z.dispose()}o.utils.domData.set(y,q,x)}o.bindingHandlers.template={init:function(z,B){var x=o.utils.unwrapObservable(B());if((typeof x!="string")&&(!x.name)&&(z.nodeType==1||z.nodeType==8)){var A=z.nodeType==1?z.childNodes:o.virtualElements.childNodes(z),y=o.utils.moveCleanedNodesToContainerElement(A);new o.templateSources.anonymousTemplate(z)["nodes"](y)}return{controlsDescendantBindings:true}},update:function(z,B,y,F,A){var D=o.utils.unwrapObservable(B());var H;var x=true;if(typeof D=="string"){H=D}else{H=D.name;if("if" in D){x=x&&o.utils.unwrapObservable(D["if"])}if("ifnot" in D){x=x&&!o.utils.unwrapObservable(D.ifnot)}}var G=null;if((typeof D==="object")&&("foreach" in D)){var E=(x&&D.foreach)||[];G=o.renderTemplateForEach(H||z,E,D,z,A)}else{if(x){var C=(typeof D=="object")&&("data" in D)?A.createChildContext(o.utils.unwrapObservable(D.data)):A;G=o.renderTemplate(H||z,C,D,z)}else{o.virtualElements.emptyNode(z)}}u(z,G)}};o.jsonExpressionRewriting.bindingRewriteValidators.template=function(x){var y=o.jsonExpressionRewriting.parseObjectLiteral(x);if((y.length==1)&&y[0]["unknown"]){return null}if(o.jsonExpressionRewriting.keyValueArrayContainsKey(y,"name")){return null}return"This template engine does not support anonymous templates nested within its templates"};o.virtualElements.allowedBindings.template=true})();o.exportSymbol("setTemplateEngine",o.setTemplateEngine);o.exportSymbol("renderTemplate",o.renderTemplate);(function(){function q(F,H,u){var D=[];for(var x=0;x<=H.length;x++){D[x]=[]}for(var x=0,v=Math.min(F.length,u);x<=v;x++){D[0][x]=x}for(var x=1,v=Math.min(H.length,u);x<=v;x++){D[x][0]=x}var E,C=F.length,G,t=H.length;var B,w;for(E=1;E<=C;E++){var z=Math.max(1,E-u);var y=Math.min(t,E+u);for(G=z;G<=y;G++){if(F[E-1]===H[G-1]){D[G][E]=D[G-1][E-1]}else{var A=D[G-1][E]===e?Number.MAX_VALUE:D[G-1][E]+1;var s=D[G][E-1]===e?Number.MAX_VALUE:D[G][E-1]+1;D[G][E]=Math.min(A,s)}}}return D}function r(u,z,C){var y=z.length;var A=C.length;var w=[];var s=u[A][y];if(s===e){return null}while((y>0)||(A>0)){var x=u[A][y];var t=(A>0)?u[A-1][y]:s+1;var B=(y>0)?u[A][y-1]:s+1;var v=(A>0)&&(y>0)?u[A-1][y-1]:s+1;if((t===e)||(t<x-1)){t=s+1}if((B===e)||(B<x-1)){B=s+1}if(v<x-1){v=s+1}if((t<=B)&&(t<v)){w.push({status:"added",value:C[A-1]});A--}else{if((B<t)&&(B<v)){w.push({status:"deleted",value:z[y-1]});y--}else{w.push({status:"retained",value:z[y-1]});A--;y--}}}return w.reverse()}o.utils.compareArrays=function(v,s,t){if(t===e){return o.utils.compareArrays(v,s,1)||o.utils.compareArrays(v,s,10)||o.utils.compareArrays(v,s,Number.MAX_VALUE)}else{v=v||[];s=s||[];var u=q(v,s,t);return r(u,v,s)}}})();o.exportSymbol("utils.compareArrays",o.utils.compareArrays);(function(){function r(v){if(v.length>2){var w=v[0],t=v[v.length-1],u=[w];while(w!==t){w=w.nextSibling;if(!w){return}u.push(w)}Array.prototype.splice.apply(v,[0,v.length].concat(u))}}function s(t,w,z,y,v){var u=[];var x=o.dependentObservable(function(){var A=w(z,v)||[];if(u.length>0){r(u);o.utils.replaceDomNodes(u,A);if(y){y(z,A)}}u.splice(0,u.length);o.utils.arrayPushAll(u,A)},null,{disposeWhenNodeIsRemoved:t,disposeWhen:function(){return(u.length==0)||!o.utils.domNodeIsAttachedToDocument(u[0])}});return{mappedNodes:u,dependentObservable:x}}var q="setDomNodeChildrenFromArrayMapping_lastMappingResult";o.utils.setDomNodeChildrenFromArrayMapping=function(R,y,z,u,D){y=y||[];u=u||{};var O=o.utils.domData.get(R,q)===e;var C=o.utils.domData.get(R,q)||[];var P=o.utils.arrayMap(C,function(U){return U.arrayEntry});var w=o.utils.compareArrays(P,y);var I=[];var S=0;var G=[];var B=0;var F=[];var v=null;for(var M=0,L=w.length;M<L;M++){switch(w[M].status){case"retained":var T=C[S];T.indexObservable(B);B=I.push(T);if(T.domNodes.length>0){v=T.domNodes[T.domNodes.length-1]}S++;break;case"deleted":C[S].dependentObservable.dispose();r(C[S].domNodes);o.utils.arrayForEach(C[S].domNodes,function(U){G.push({element:U,index:M,value:w[M].value});v=U});S++;break;case"added":var x=w[M].value;var Q=o.observable(B);var H=s(R,z,x,D,Q);var E=H.mappedNodes;B=I.push({arrayEntry:w[M].value,domNodes:E,dependentObservable:H.dependentObservable,indexObservable:Q});for(var N=0,A=E.length;N<A;N++){var K=E[N];F.push({element:K,index:M,value:w[M].value});if(v==null){o.virtualElements.prepend(R,K)}else{o.virtualElements.insertAfter(R,K,v)}v=K}if(D){D(x,E,Q)}break}}o.utils.arrayForEach(G,function(U){o.cleanNode(U.element)});var J=false;if(!O){if(u.afterAdd){for(var M=0;M<F.length;M++){u.afterAdd(F[M].element,F[M].index,F[M].value)}}if(u.beforeRemove){for(var M=0;M<G.length;M++){u.beforeRemove(G[M].element,G[M].index,G[M].value)}J=true}}if(!J&&G.length){for(var M=0;M<G.length;M++){var t=G[M].element;if(t.parentNode){t.parentNode.removeChild(t)}}}o.utils.domData.set(R,q,I)}})();o.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",o.utils.setDomNodeChildrenFromArrayMapping);o.nativeTemplateEngine=function(){this["allowTemplateRewriting"]=false};o.nativeTemplateEngine.prototype=new o.templateEngine();o.nativeTemplateEngine.prototype.renderTemplateSource=function(q,r,s){var v=!(o.utils.ieVersion<9),w=v?q.nodes:null,t=w?q.nodes():null;if(t){return o.utils.makeArray(t.cloneNode(true).childNodes)}else{var u=q.text();return o.utils.parseHtmlFragment(u)}};o.nativeTemplateEngine.instance=new o.nativeTemplateEngine();o.setTemplateEngine(o.nativeTemplateEngine.instance);o.exportSymbol("nativeTemplateEngine",o.nativeTemplateEngine);(function(){o.jqueryTmplTemplateEngine=function(){var s=this.jQueryTmplVersion=(function(){if((typeof(jQuery)=="undefined")||!(jQuery.tmpl)){return 0}try{if(jQuery.tmpl["tag"]["tmpl"]["open"].toString().indexOf("__")>=0){return 2}}catch(u){}return 1})();function r(){if(s<2){throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}}function t(v,w,u){return jQuery.tmpl(v,w,u)}this["renderTemplateSource"]=function(v,w,x){x=x||{};r();var A=v.data("precompiled");if(!A){var z=v.text()||"";z="{{ko_with $item.koBindingContext}}"+z+"{{/ko_with}}";A=jQuery.template(null,z);v.data("precompiled",A)}var y=[w["$data"]];var u=jQuery.extend({koBindingContext:w},x.templateOptions);var B=t(A,y,u);B.appendTo(a.createElement("div"));jQuery.fragments={};return B};this["createJavaScriptEvaluatorBlock"]=function(u){return"{{ko_code ((function() { return "+u+" })()) }}"};this["addTemplate"]=function(u,v){a.write("<script type='text/html' id='"+u+"'>"+v+"<\/script>")};if(s>0){jQuery.tmpl["tag"]["ko_code"]={open:"__.push($1 || '');"};jQuery.tmpl["tag"]["ko_with"]={open:"with($1) {",close:"} "}}};o.jqueryTmplTemplateEngine.prototype=new o.templateEngine();var q=new o.jqueryTmplTemplateEngine();if(q.jQueryTmplVersion>0){o.setTemplateEngine(q)}o.exportSymbol("jqueryTmplTemplateEngine",o.jqueryTmplTemplateEngine)})()})})(window,document,navigator);
